import{g as z,h as i,a9 as g,c as y,at as w,a1 as F,r as u,a2 as H,m as I,j as e,C as A,R as x,p as a,n as G,q as l,O as V,B,o as W,f as Y,k as $,a4 as D,_ as K,Y as Z,Z as j,a0 as Q}from"./index-Dryl2LB3.js";import{l as m}from"./index-HPTOXweS.js";import{u as X,R as J}from"./useOtpModal-DQ71FxzY.js";import"./index-DvBq8y9p.js";const U=z().shape({accountNumber:i().required("Account number is required."),phone:i().required("Mobile number is required."),accountName:i().required("Account name is required."),email:i().email().required("Email is required."),loanType:i().required("Please select a loan type"),loanAmount:g().required("Loan amount is required."),paybackPeriod:g().required("Payback period is required")}),ee="6LeWQqgZAAAAAMukTuTY7rFn2HDG-BIwSRffXtFM",ae=()=>{const d=y(),{loantype:t}=w(),[h,p]=F.useMessage(),[r,q]=u.useState(null),[N,L]=u.useState(null),[S,f]=u.useState(null),[v,{isLoading:b}]=H(),C={"home-loan":"Home Loan","car-loan":"Car Loan","gold-loan":"Gold Loan","loan-against-share":"Loan Against Share","credit-card-loan":"Credit Card"},T={"home-loan":"HOME_LOAN","gold-loan":"GOLD_LOAN","loan-against-share":"LOAN_AGAINST_SHARE"},{control:o,handleSubmit:k,setValue:R,formState:{errors:s}}=I({defaultValues:{},resolver:W(U)});console.log(s),u.useEffect(()=>{t&&R("loanType",t)},[t]);const P=n=>{q(n)},M=n=>{if(!r){h.error("Please complete the reCAPTCHA to submit the form.");return}v({accountName:n.accountNumber,accountNumber:n.accountNumber,phone:n.phone,prop_values:{...n},product:"LOAN",service_type:T[n.loanType]}).unwrap().then(c=>{L(c.data.service_type),f(c.data.ref_number),O()}).catch(c=>{Y(c)})},E=()=>{d("/")},{showModal:O,OtpModalComponent:_}=X({serviceId:N,refNumber:S,handleServiceSubmission:E});return e.jsxs(e.Fragment,{children:[p,e.jsx(A,{width:"sm",children:e.jsx(x,{children:e.jsx(a,{xs:24,children:e.jsx(G,{title:C[t||""]||"Loan",children:e.jsxs("form",{onSubmit:k(M),children:[e.jsxs(x,{gutter:30,children:[e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Account Number",name:"accountNumber",control:o,error:s.accountNumber?.message??"",placeholder:"Enter your registered account number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Mobile Number",name:"phone",control:o,error:s.phone?.message??"",placeholder:"Enter you registered mobile number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Account Name",name:"accountName",control:o,error:s.accountName?.message??"",placeholder:"Account Name",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Email",name:"email",control:o,error:s.email?.message??"",placeholder:"Email",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(V,{options:[{label:"Home Loan",value:"home-loan"},{label:"Gold Loan",value:"gold-loan"},{label:"Loan Against Share",value:"loan-against-share"}],name:"loanType",control:o,label:"Loan Type",disabled:!0,size:"large",placeholder:"Select Loan Type",error:s.loanType?.message??"",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Loan Amount",name:"loanAmount",control:o,error:s.loanAmount?.message??"",placeholder:"Loan Amount",type:"number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Payback Period(in Years)",name:"paybackPeriod",control:o,error:s.paybackPeriod?.message??"",placeholder:"Payback Period",type:"number",size:"large",required:!0,suffix:"yrs"})}),e.jsx(a,{xs:24,children:e.jsx(J,{sitekey:ee,onChange:P})})]}),e.jsx(a,{xs:24,style:{marginTop:"1rem"},children:e.jsx(B,{type:"primary",htmlType:"submit",size:"large",loading:b,disabled:b,children:"Submit"})})]})})})})}),_]})},te=()=>{const d=y(),t=$(),h=r=>{d(r)},p=m.find(r=>t.pathname.endsWith(r.link))?.link||m[0].link;return e.jsx(A,{children:e.jsx(x,{children:e.jsx(a,{xs:24,md:24,children:e.jsx(D,{activeKey:p,tabPosition:"left",onChange:h,items:m.map(r=>({label:e.jsxs("span",{children:[e.jsx(K,{icon:r.icon,style:{marginRight:8}}),r.title]}),key:r.link,children:e.jsxs(Z,{children:[e.jsx(j,{path:":loantype",element:e.jsx(ae,{})}),e.jsx(j,{path:"*",element:e.jsx(Q,{to:m[0].link,replace:!0})})]})}))})})})})};export{te as LoanRoutes};
//# sourceMappingURL=index-BHcYqotS.js.map
