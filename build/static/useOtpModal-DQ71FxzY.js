import{r as S,j as R,B as re,I as fe,a1 as ae,au as u,av as le,aw as he,f as ye}from"./index-Dryl2LB3.js";import{M as me}from"./index-DvBq8y9p.js";const ve=({visible:e,onCancel:n,onVerify:o})=>{const[r,t]=S.useState(""),[c,l]=S.useState(!1),h=async()=>{if(!r){ae.error("Please enter the OTP.");return}l(!0);try{await o(r),t("")}catch{}finally{l(!1)}};return R.jsx(me,{title:"Enter OTP",visible:e,onCancel:n,footer:[R.jsx(re,{onClick:n,children:"Cancel"},"cancel"),R.jsx(re,{type:"primary",onClick:h,loading:c,children:"Verify"},"verify")],children:R.jsx(fe.OTP,{value:r,onChange:p=>t(p),length:6})})};var ge=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function U(){return U=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},U.apply(this,arguments)}function be(e,n){if(e==null)return{};var o={},r=Object.keys(e),t,c;for(c=0;c<r.length;c++)t=r[c],!(n.indexOf(t)>=0)&&(o[t]=e[t]);return o}function L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,z(e,n)}function z(e,n){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},z(e,n)}var E=function(e){xe(n,e);function n(){var r;return r=e.call(this)||this,r.handleExpired=r.handleExpired.bind(L(r)),r.handleErrored=r.handleErrored.bind(L(r)),r.handleChange=r.handleChange.bind(L(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(L(r)),r}var o=n.prototype;return o.getCaptchaFunction=function(t){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[t]:this.props.grecaptcha[t]:null},o.getValue=function(){var t=this.getCaptchaFunction("getResponse");return t&&this._widgetId!==void 0?t(this._widgetId):null},o.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},o.execute=function(){var t=this.getCaptchaFunction("execute");if(t&&this._widgetId!==void 0)return t(this._widgetId);this._executeRequested=!0},o.executeAsync=function(){var t=this;return new Promise(function(c,l){t.executionResolve=c,t.executionReject=l,t.execute()})},o.reset=function(){var t=this.getCaptchaFunction("reset");t&&this._widgetId!==void 0&&t(this._widgetId)},o.forceReset=function(){var t=this.getCaptchaFunction("reset");t&&t()},o.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},o.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},o.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},o.explicitRender=function(){var t=this.getCaptchaFunction("render");if(t&&this._widgetId===void 0){var c=document.createElement("div");this._widgetId=t(c,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(c)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},o.componentDidMount=function(){this.explicitRender()},o.componentDidUpdate=function(){this.explicitRender()},o.handleRecaptchaRef=function(t){this.captcha=t},o.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var c=be(t,ge);return S.createElement("div",U({},c,{ref:this.handleRecaptchaRef}))},n}(S.Component);E.displayName="ReCAPTCHA";E.propTypes={sitekey:u.string.isRequired,onChange:u.func,grecaptcha:u.object,theme:u.oneOf(["dark","light"]),type:u.oneOf(["image","audio"]),tabindex:u.number,onExpired:u.func,onErrored:u.func,size:u.oneOf(["compact","normal","invisible"]),stoken:u.string,hl:u.string,badge:u.oneOf(["bottomright","bottomleft","inline"]),isolated:u.bool};E.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var ce={exports:{}},a={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=typeof Symbol=="function"&&Symbol.for,q=d?Symbol.for("react.element"):60103,G=d?Symbol.for("react.portal"):60106,P=d?Symbol.for("react.fragment"):60107,j=d?Symbol.for("react.strict_mode"):60108,C=d?Symbol.for("react.profiler"):60114,I=d?Symbol.for("react.provider"):60109,$=d?Symbol.for("react.context"):60110,B=d?Symbol.for("react.async_mode"):60111,T=d?Symbol.for("react.concurrent_mode"):60111,A=d?Symbol.for("react.forward_ref"):60112,N=d?Symbol.for("react.suspense"):60113,Se=d?Symbol.for("react.suspense_list"):60120,M=d?Symbol.for("react.memo"):60115,D=d?Symbol.for("react.lazy"):60116,_e=d?Symbol.for("react.block"):60121,Oe=d?Symbol.for("react.fundamental"):60117,we=d?Symbol.for("react.responder"):60118,Re=d?Symbol.for("react.scope"):60119;function f(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case q:switch(e=e.type,e){case B:case T:case P:case C:case j:case N:return e;default:switch(e=e&&e.$$typeof,e){case $:case A:case D:case M:case I:return e;default:return n}}case G:return n}}}function se(e){return f(e)===T}a.AsyncMode=B;a.ConcurrentMode=T;a.ContextConsumer=$;a.ContextProvider=I;a.Element=q;a.ForwardRef=A;a.Fragment=P;a.Lazy=D;a.Memo=M;a.Portal=G;a.Profiler=C;a.StrictMode=j;a.Suspense=N;a.isAsyncMode=function(e){return se(e)||f(e)===B};a.isConcurrentMode=se;a.isContextConsumer=function(e){return f(e)===$};a.isContextProvider=function(e){return f(e)===I};a.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===q};a.isForwardRef=function(e){return f(e)===A};a.isFragment=function(e){return f(e)===P};a.isLazy=function(e){return f(e)===D};a.isMemo=function(e){return f(e)===M};a.isPortal=function(e){return f(e)===G};a.isProfiler=function(e){return f(e)===C};a.isStrictMode=function(e){return f(e)===j};a.isSuspense=function(e){return f(e)===N};a.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P||e===T||e===C||e===j||e===N||e===Se||typeof e=="object"&&e!==null&&(e.$$typeof===D||e.$$typeof===M||e.$$typeof===I||e.$$typeof===$||e.$$typeof===A||e.$$typeof===Oe||e.$$typeof===we||e.$$typeof===Re||e.$$typeof===_e)};a.typeOf=f;ce.exports=a;var Le=ce.exports,K=Le,Ee={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Pe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},je={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y={};Y[K.ForwardRef]=je;Y[K.Memo]=pe;function ne(e){return K.isMemo(e)?pe:Y[e.$$typeof]||Ee}var Ce=Object.defineProperty,Ie=Object.getOwnPropertyNames,oe=Object.getOwnPropertySymbols,$e=Object.getOwnPropertyDescriptor,Te=Object.getPrototypeOf,ie=Object.prototype;function de(e,n,o){if(typeof n!="string"){if(ie){var r=Te(n);r&&r!==ie&&de(e,r,o)}var t=Ie(n);oe&&(t=t.concat(oe(n)));for(var c=ne(e),l=ne(n),h=0;h<t.length;++h){var p=t[h];if(!Pe[p]&&!(o&&o[p])&&!(l&&l[p])&&!(c&&c[p])){var m=$e(n,p);try{Ce(e,p,m)}catch{}}}}return e}var Ae=de;const Ne=le(Ae);function V(){return V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},V.apply(this,arguments)}function Me(e,n){if(e==null)return{};var o={},r=Object.keys(e),t,c;for(c=0;c<r.length;c++)t=r[c],!(n.indexOf(t)>=0)&&(o[t]=e[t]);return o}function De(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var g={},Fe=0;function ke(e,n){return n=n||{},function(r){var t=r.displayName||r.name||"Component",c=function(h){De(p,h);function p(b,s){var i;return i=h.call(this,b,s)||this,i.state={},i.__scriptURL="",i}var m=p.prototype;return m.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Fe++),this.__scriptLoaderID},m.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},m.asyncScriptLoaderHandleLoad=function(s){var i=this;this.setState(s,function(){return i.props.asyncScriptOnLoad&&i.props.asyncScriptOnLoad(i.state)})},m.asyncScriptLoaderTriggerOnScriptLoaded=function(){var s=g[this.__scriptURL];if(!s||!s.loaded)throw new Error("Script is not loaded.");for(var i in s.observers)s.observers[i](s);delete window[n.callbackName]},m.componentDidMount=function(){var s=this,i=this.setupScriptURL(),v=this.asyncScriptLoaderGetScriptLoaderID(),x=n,J=x.globalName,F=x.callbackName,Q=x.scriptId;if(J&&typeof window[J]<"u"&&(g[i]={loaded:!0,observers:{}}),g[i]){var O=g[i];if(O&&(O.loaded||O.errored)){this.asyncScriptLoaderHandleLoad(O);return}O.observers[v]=function(y){return s.asyncScriptLoaderHandleLoad(y)};return}var X={};X[v]=function(y){return s.asyncScriptLoaderHandleLoad(y)},g[i]={loaded:!1,observers:X};var _=document.createElement("script");_.src=i,_.async=!0;for(var Z in n.attributes)_.setAttribute(Z,n.attributes[Z]);Q&&(_.id=Q);var ee=function(w){if(g[i]){var ue=g[i],k=ue.observers;for(var te in k)w(k[te])&&delete k[te]}};F&&typeof window<"u"&&(window[F]=function(){return s.asyncScriptLoaderTriggerOnScriptLoaded()}),_.onload=function(){var y=g[i];y&&(y.loaded=!0,ee(function(w){return F?!1:(w(y),!0)}))},_.onerror=function(){var y=g[i];y&&(y.errored=!0,ee(function(w){return w(y),!0}))},document.body.appendChild(_)},m.componentWillUnmount=function(){var s=this.__scriptURL;if(n.removeOnUnmount===!0)for(var i=document.getElementsByTagName("script"),v=0;v<i.length;v+=1)i[v].src.indexOf(s)>-1&&i[v].parentNode&&i[v].parentNode.removeChild(i[v]);var x=g[s];x&&(delete x.observers[this.asyncScriptLoaderGetScriptLoaderID()],n.removeOnUnmount===!0&&delete g[s])},m.render=function(){var s=n.globalName,i=this.props;i.asyncScriptOnLoad;var v=i.forwardedRef,x=Me(i,["asyncScriptOnLoad","forwardedRef"]);return s&&typeof window<"u"&&(x[s]=typeof window[s]<"u"?window[s]:void 0),x.ref=v,S.createElement(r,x)},p}(S.Component),l=S.forwardRef(function(h,p){return S.createElement(c,V({},h,{forwardedRef:p}))});return l.displayName="AsyncScriptLoader("+t+")",l.propTypes={asyncScriptOnLoad:u.func},Ne(l,r)}}var H="onloadcallback",Ue="grecaptcha";function W(){return typeof window<"u"&&window.recaptchaOptions||{}}function ze(){var e=W(),n=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+n+"/recaptcha/enterprise.js?onload="+H+"&render=explicit":"https://"+n+"/recaptcha/api.js?onload="+H+"&render=explicit"}const We=ke(ze,{callbackName:H,globalName:Ue,attributes:W().nonce?{nonce:W().nonce}:{}})(E),qe=({serviceId:e,handleServiceSubmission:n,refNumber:o})=>{const[r,t]=S.useState(!1),[c,{isLoading:l}]=he(),h=()=>t(!0),p=()=>t(!1),m=async s=>{try{const i=await c({otp:s,service_type:e,ref_number:o}).unwrap();ae.success(i.message),p(),n()}catch(i){ye(i)}};return{showModal:h,OtpModalComponent:R.jsx(ve,{visible:r,onCancel:p,onVerify:m})}};export{We as R,qe as u};
//# sourceMappingURL=useOtpModal-DQ71FxzY.js.map
