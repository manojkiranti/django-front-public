import{g as _,h as i,a1 as y,c as q,a3 as z,a2 as F,r as u,a6 as H,m as w,j as e,R as g,p as a,n as G,q as l,O as I,B,o as V,f as W,k as Y,C as $,a4 as D,_ as K,Y as Z,Z as A,a0 as Q,a5 as X}from"./index-95U9FDsZ.js";import{l as m}from"./index-DTZGWShN.js";import{R as J}from"./recaptcha-wrapper-p46HvbAL.js";import{u as U}from"./useOtpModal-C2ttznJp.js";import"./index-_ukXZapM.js";const ee=_().shape({accountNumber:i().required("Account number is required."),phone:i().required("Mobile number is required."),accountName:i().required("Account name is required."),email:i().email().required("Email is required."),loanType:i().required("Please select a loan type"),loanAmount:y().required("Loan amount is required."),paybackPeriod:y().required("Payback period is required")}),ae="6LeWQqgZAAAAAMukTuTY7rFn2HDG-BIwSRffXtFM",re=()=>{const d=q(),{loantype:t}=z(),[p,h]=F.useMessage(),[x,b]=u.useState(null),[r,N]=u.useState(null),[f,L]=u.useState(null),[S,{isLoading:j}]=H(),v={"home-loan":"Home Loan","car-loan":"Car Loan","gold-loan":"Gold Loan","loan-against-share":"Loan Against Share","credit-card-loan":"Credit Card"},C={"home-loan":"HOME_LOAN","gold-loan":"GOLD_LOAN","loan-against-share":"LOAN_AGAINST_SHARE"},{control:o,handleSubmit:T,setValue:k,formState:{errors:s}}=w({defaultValues:{},resolver:V(ee)});console.log(s),u.useEffect(()=>{t&&k("loanType",t)},[t]);const R=n=>{b(n)},P=n=>{if(!x){p.error("Please complete the reCAPTCHA to submit the form.");return}S({accountName:n.accountNumber,accountNumber:n.accountNumber,phone:n.phone,prop_values:{...n},product:"LOAN",service_type:C[n.loanType]}).unwrap().then(c=>{N(c.data.service_type),L(c.data.ref_number),E()}).catch(c=>{W(c)})},M=()=>{d("/")},{showModal:E,OtpModalComponent:O}=U({serviceId:r,refNumber:f,handleServiceSubmission:M});return e.jsxs(e.Fragment,{children:[h,e.jsx(g,{children:e.jsx(a,{xs:24,children:e.jsx(G,{title:v[t||""]||"Loan",children:e.jsxs("form",{onSubmit:T(P),children:[e.jsxs(g,{gutter:30,children:[e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Account Number",name:"accountNumber",control:o,error:s.accountNumber?.message??"",placeholder:"Enter your registered account number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Mobile Number",name:"phone",control:o,error:s.phone?.message??"",placeholder:"Enter you registered mobile number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Account Name",name:"accountName",control:o,error:s.accountName?.message??"",placeholder:"Account Name",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Email",name:"email",control:o,error:s.email?.message??"",placeholder:"Email",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(I,{options:[{label:"Home Loan",value:"home-loan"},{label:"Gold Loan",value:"gold-loan"},{label:"Loan Against Share",value:"loan-against-share"}],name:"loanType",control:o,label:"Loan Type",disabled:!0,size:"large",placeholder:"Select Loan Type",error:s.loanType?.message??"",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Loan Amount",name:"loanAmount",control:o,error:s.loanAmount?.message??"",placeholder:"Loan Amount",type:"number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Payback Period(in Years)",name:"paybackPeriod",control:o,error:s.paybackPeriod?.message??"",placeholder:"Payback Period",type:"number",size:"large",required:!0,suffix:"yrs"})}),e.jsx(a,{xs:24,children:e.jsx(J,{sitekey:ae,onChange:R})})]}),e.jsx(a,{xs:24,style:{marginTop:"1rem"},children:e.jsx(B,{type:"primary",htmlType:"submit",size:"large",loading:j,disabled:j,children:"Submit"})})]})})})}),O]})},{useBreakpoint:se}=X,ce=()=>{const d=se(),t=q(),p=Y(),h=r=>{t(r)},x=m.find(r=>p.pathname.endsWith(r.link))?.link||m[0].link,b=d.md?"left":"top";return e.jsx($,{children:e.jsx(g,{children:e.jsx(a,{xs:24,md:24,children:e.jsx(D,{activeKey:x,tabPosition:b,onChange:h,items:m.map(r=>({label:e.jsxs("span",{children:[e.jsx(K,{icon:r.icon,style:{marginRight:8}}),r.title]}),key:r.link,children:e.jsxs(Z,{children:[e.jsx(A,{path:":loantype",element:e.jsx(re,{})}),e.jsx(A,{path:"*",element:e.jsx(Q,{to:m[0].link,replace:!0})})]})}))})})})})};export{ce as LoanRoutes};
//# sourceMappingURL=index-DNU3VGIW.js.map
