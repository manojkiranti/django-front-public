import{g as w,h as i,a9 as g,c as y,at as F,a1 as I,r as u,a2 as _,m as H,j as e,C as q,R as x,p as a,n as O,q as l,O as V,B,o as G,f as W,k as Y,a4 as $,_ as D,Y as K,Z as j,a0 as Q}from"./index-CTSUDM6F.js";import{l as m}from"./index-CFAwDCnn.js";import{u as Z,R as U}from"./useOtpModal-Bin5lSGu.js";import"./index-C0e1T4uR.js";const X=w().shape({accountNumber:i().required("Account number is required."),phone:i().required("Mobile number is required."),accountName:i().required("Account name is required."),email:i().email().required("Email is required."),loanType:i().required("Please select a loan type"),loanAmount:g().required("Loan amount is required."),paybackPeriod:g().required("Payback period is required")}),J="6LeWQqgZAAAAAMukTuTY7rFn2HDG-BIwSRffXtFM",ee=()=>{const d=y(),{loantype:o}=F(),[h,p]=I.useMessage(),[r,f]=u.useState(null),[C,S]=u.useState(null),[A,L]=u.useState(null),[N,{isLoading:b}]=_(),v={"home-loan":"Home Loan","car-loan":"Car Loan","gold-loan":"Gold Loan","loan-against-share":"Loan Against Share","credit-card-loan":"Credit Card"},{control:n,handleSubmit:E,setValue:R,formState:{errors:s}}=H({defaultValues:{},resolver:G(X)});console.log(s),u.useEffect(()=>{o&&R("loanType",o)},[o]);const T=t=>{f(t)},k=t=>{if(!r){h.error("Please complete the reCAPTCHA to submit the form.");return}N({accountName:t.accountNumber,accountNumber:t.accountNumber,phone:t.phone,prop_values:{...t},product:"TELLER_SERVICE",service_type:"CHEQUE_DEPOSIT"}).unwrap().then(c=>{S(c.data.service_type),L(c.data.ref_number),M()}).catch(c=>{W(c)})},P=()=>{d("/")},{showModal:M,OtpModalComponent:z}=Z({serviceId:C,refNumber:A,handleServiceSubmission:P});return e.jsxs(e.Fragment,{children:[p,e.jsx(q,{width:"sm",children:e.jsx(x,{children:e.jsx(a,{xs:24,children:e.jsx(O,{title:v[o||""]||"Loan",children:e.jsxs("form",{onSubmit:E(k),children:[e.jsxs(x,{gutter:30,children:[e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Account Number",name:"accountNumber",control:n,error:s.accountNumber?.message??"",placeholder:"Enter your registered account number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Mobile Number",name:"phone",control:n,error:s.phone?.message??"",placeholder:"Enter you registered mobile number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Account Name",name:"accountName",control:n,error:s.accountName?.message??"",placeholder:"Account Name",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Email",name:"email",control:n,error:s.email?.message??"",placeholder:"Email",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(V,{options:[{label:"Home Loan",value:"home-loan"},{label:"Gold Loan",value:"gold-loan"},{label:"Loan Against Share",value:"loan-against-share"},{label:"Credit Card",value:"credit-card-loan"}],name:"loanType",control:n,label:"Loan Type",disabled:!0,size:"large",placeholder:"Select Loan Type",error:s.loanType?.message??"",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Loan Amount",name:"loanAmount",control:n,error:s.loanAmount?.message??"",placeholder:"Loan Amount",type:"number",size:"large",required:!0})}),e.jsx(a,{xs:24,md:8,children:e.jsx(l,{label:"Payback Period(in Years)",name:"paybackPeriod",control:n,error:s.paybackPeriod?.message??"",placeholder:"Payback Period",type:"number",size:"large",required:!0,suffix:"yrs"})}),e.jsx(a,{xs:24,children:e.jsx(U,{sitekey:J,onChange:T})})]}),e.jsx(a,{xs:24,style:{marginTop:"1rem"},children:e.jsx(B,{type:"primary",htmlType:"submit",size:"large",loading:b,disabled:b,children:"Submit"})})]})})})})}),z]})},oe=()=>{const d=y(),o=Y(),h=r=>{d(r)},p=m.find(r=>o.pathname.endsWith(r.link))?.link||m[0].link;return e.jsx(q,{children:e.jsx(x,{children:e.jsx(a,{xs:24,md:24,children:e.jsx($,{activeKey:p,tabPosition:"left",onChange:h,items:m.map(r=>({label:e.jsxs("span",{children:[e.jsx(D,{icon:r.icon,style:{marginRight:8}}),r.title]}),key:r.link,children:e.jsxs(K,{children:[e.jsx(j,{path:":loantype",element:e.jsx(ee,{})}),e.jsx(j,{path:"*",element:e.jsx(Q,{to:m[0].link,replace:!0})})]})}))})})})})};export{oe as LoanRoutes};
//# sourceMappingURL=index-DYgDcmG0.js.map
