{"version":3,"file":"index-BHmd2DZ2.js","sources":["../../src/pages/documentVerification/schema/index.ts","../../src/pages/documentVerification/routes/BankGuranteeVerification.tsx","../../src/pages/documentVerification/routes/index.tsx"],"sourcesContent":["import * as yup from 'yup';\n\nexport const bankGuraneeVerificationSchema = yup.object().shape({\n  accountNumber: yup\n    .string(),\n  referenceNumber: yup\n    .string()\n    .required('Reference number is required.'),\n  guranteeAmount: yup.number().required('Gurantee amount is required.'),\n  phone: yup.string().required('Phone number is required.')\n});","\nimport { useState } from \"react\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport dayjs from 'dayjs';\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Container } from \"@/components/Elements\";\nimport { Button, Col, Row, message, Breadcrumb, Card, Dropdown, Space } from \"antd\";\nimport {  BankGuranteeVerificationFormType } from \"../types\";\nimport {  bankGuraneeVerificationSchema } from \"../schema\";\nimport { DatePickerField, InputField, RadioGroupField, SelectField } from \"@/components/Form\";\n\nimport { DownOutlined, HomeOutlined } from \"@ant-design/icons\";\nimport { useCustomerServiceRequestMutation } from \"@/store/apis/coreApi\";\nimport { displayError } from \"@/utils/displayMessageUtils\";\nimport { documentVerificationMenu } from \"../constant\";\nimport { BRANCH_LIST } from \"@/constant/options\";\nimport { currencies } from \"@/utils/currenciesUtils\";\nimport { Link } from \"react-router-dom\";\nimport useOtpModal from \"@/hooks/useOtpModal\";\n\nconst siteKey = import.meta.env.VITE_CAPTCHA_SITE_KEY;\n\nconst BankGuranteeVerification = () => {\n    const navigate = useNavigate();\n    const [messageApi, contextHolder] = message.useMessage();\n    const [captchaValue, setCaptchaValue] = useState<string | null>(null);\n    const [serviceId, setServiceId] = useState<string | null>(null);\n    const [serviceRefNumber, setServiceRefNumber] = useState<string | null>(null);\n    const [postCustomerRequest, { isLoading }] =\n    useCustomerServiceRequestMutation();\n      \n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<BankGuranteeVerificationFormType>({\n    defaultValues: {\n        accountNumber:\"123456789\"\n    },\n    resolver: yupResolver(bankGuraneeVerificationSchema),\n  });\n\n  const handleCaptchaChange = (value: string | null) => {\n    setCaptchaValue(value);\n  };\n\n  const onSubmit = (data: BankGuranteeVerificationFormType) => {\n    if (!captchaValue) {\n        messageApi.error(\"Please complete the reCAPTCHA to submit the form.\")\n        return;\n      }\n      postCustomerRequest({accountName: data.accountNumber, accountNumber: data.accountNumber, phone: data.phone,\n        prop_values:{...data}, product:'TELLER_SERVICE', service_type:'CHEQUE_DEPOSIT'}).unwrap()\n      .then(response => {\n        setServiceId(response.data.service_type)\n        setServiceRefNumber(response.data.ref_number)\n        showOtpModal();\n      }).catch(err => {\n        displayError(err);\n      })\n  };\n  const handleServiceSubmission = () => {\n    navigate('/')\n  };\n\n  const { showModal: showOtpModal, OtpModalComponent } = useOtpModal({\n    serviceId: serviceId,\n    refNumber: serviceRefNumber,\n    handleServiceSubmission: handleServiceSubmission\n  });\n  return (\n    <>\n    {contextHolder}\n\n      <Row>\n        <Col xs={24}>\n         <Card title=\"Bank Gurantee Verification\">\n             <form onSubmit={handleSubmit(onSubmit)}>\n                <Row gutter={30}>\n                  \n                  <Col xs={24} md={8}>\n                    <InputField\n                      label=\"Reference Number\"\n                      name=\"referenceNumber\"\n                      control={control}\n                      error={errors.referenceNumber?.message ?? \"\"}\n                      placeholder=\"Enter your reference number\"\n                      size=\"large\"\n                      required={true}\n                    />\n                  </Col>\n                  <Col xs={24} md={8}>\n                    <InputField\n                      label=\"Gurantee Amount\"\n                      name=\"guranteeAmount\"\n                      type=\"number\"\n                      control={control}\n                      error={errors.guranteeAmount?.message ?? \"\"}\n                      placeholder=\"Enter gurantee amount\"\n                      size=\"large\"\n                      required={true}\n                    />\n                  </Col>\n                  \n                 \n                  <Col xs={24}>\n                    <ReCAPTCHA sitekey={siteKey} onChange={handleCaptchaChange} />\n                  </Col>\n                  \n                </Row>\n                <Col xs={24} style={{marginTop:\"1rem\"}}>\n                  <Button type=\"primary\" htmlType=\"submit\" size=\"large\" loading={isLoading} disabled={isLoading}>\n                    Submit\n                  </Button>\n                </Col>\n              </form>\n         </Card>\n             \n          \n        </Col>\n      </Row>\n\n    {OtpModalComponent}\n    </>\n  );\n};\n\nexport default BankGuranteeVerification;\n","import {\n  Navigate,\n  Route,\n  Routes,\n  useNavigate,\n  useLocation,\n} from \"react-router-dom\";\nimport { Col, Row, Tabs, Grid } from \"antd\";\nimport { documentVerificationServices } from \"@/pages/home/constant\";\nimport { Container } from \"@/components/Elements\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport BankGuranteeVerification from './BankGuranteeVerification';\n\nconst {useBreakpoint} = Grid;\nexport const DocumentVerificationRoutes = () => {\n  const screens = useBreakpoint();\n  const navigate = useNavigate();\n    const location = useLocation();\n  \n    const handleTabChange = (key: string) => {\n      navigate(key);\n    };\n    const activeKey =\n    documentVerificationServices.find((service) => location.pathname.endsWith(service.link))\n        ?.link || documentVerificationServices[0].link;\n    const tabPosition = screens.md ? \"left\" : \"top\";\n    return (\n      <Container>\n      <Row>\n        <Col xs={24} md={24}>\n          <Tabs\n            activeKey={activeKey}\n            tabPosition={tabPosition}\n            // style={{ height: \"calc(100vh - 520px)\" }}\n            onChange={handleTabChange}\n            items={documentVerificationServices.map(service => ({\n              label: (\n                <span>\n                  <FontAwesomeIcon icon={service.icon} style={{ marginRight: 8 }} />\n                  {service.title}\n                </span>\n              ),\n              key: service.link, // Use relative path as key\n              children:       <Routes>\n              <Route path=\"bank-guarantee\" element={<BankGuranteeVerification />} />\n              <Route path=\"*\" element={<Navigate to={documentVerificationServices[0].link} replace />} />\n            </Routes>\n            }))}\n          />\n\n          {/* Define nested routes */}\n    \n        </Col>\n      </Row>\n    </Container>\n      \n    );\n  };"],"names":["bankGuraneeVerificationSchema","yup.object","yup.string","yup.number","siteKey","BankGuranteeVerification","navigate","useNavigate","messageApi","contextHolder","message","captchaValue","setCaptchaValue","useState","serviceId","setServiceId","serviceRefNumber","setServiceRefNumber","postCustomerRequest","isLoading","useCustomerServiceRequestMutation","control","handleSubmit","errors","useForm","yupResolver","handleCaptchaChange","value","onSubmit","data","response","showOtpModal","err","displayError","handleServiceSubmission","OtpModalComponent","useOtpModal","jsxs","Fragment","jsx","Row","Col","Card","InputField","ReCAPTCHA","Button","useBreakpoint","Grid","DocumentVerificationRoutes","screens","location","useLocation","handleTabChange","key","activeKey","documentVerificationServices","service","tabPosition","Container","Tabs","FontAwesomeIcon","Routes","Route","Navigate"],"mappings":"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"}