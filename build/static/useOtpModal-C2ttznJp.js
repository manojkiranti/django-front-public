import{r as f,j as r,B as d,I as O,a2 as u,af as m,f as M}from"./index-95U9FDsZ.js";import{M as x}from"./index-_ukXZapM.js";const g=({visible:o,onCancel:a,onVerify:n})=>{const[e,t]=f.useState(""),[i,c]=f.useState(!1),l=async()=>{if(!e){u.error("Please enter the OTP.");return}c(!0);try{await n(e),t("")}catch{}finally{c(!1)}};return r.jsx(x,{title:"Enter OTP",visible:o,onCancel:a,footer:[r.jsx(d,{onClick:a,children:"Cancel"},"cancel"),r.jsx(d,{type:"primary",onClick:l,loading:i,children:"Verify"},"verify")],children:r.jsx(O.OTP,{value:e,onChange:s=>t(s),length:6})})},C=({serviceId:o,handleServiceSubmission:a,refNumber:n})=>{const[e,t]=f.useState(!1),[i,{isLoading:c}]=m(),l=()=>t(!0),s=()=>t(!1),y=async h=>{try{const p=await i({otp:h,service_type:o,ref_number:n}).unwrap();u.success(p.message),s(),a()}catch(p){M(p)}};return{showModal:l,OtpModalComponent:r.jsx(g,{visible:e,onCancel:s,onVerify:y})}};export{C as u};
//# sourceMappingURL=useOtpModal-C2ttznJp.js.map
