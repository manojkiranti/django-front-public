import{g as T,h as l,a9 as V,c as f,a1 as w,r as m,a2 as I,m as _,j as e,C as j,R as d,p as n,n as F,q as b,B as G,o as B,f as L,k as P,a4 as H,_ as O,Y as z,Z as g,a0 as D}from"./index-Dryl2LB3.js";import{d as a}from"./index-HPTOXweS.js";import{u as W,R as $}from"./useOtpModal-DQ71FxzY.js";import"./index-DvBq8y9p.js";const K=T().shape({accountNumber:l(),referenceNumber:l().required("Reference number is required."),guranteeAmount:V().required("Gurantee amount is required."),phone:l().required("Phone number is required.")}),Q="6LeWQqgZAAAAAMukTuTY7rFn2HDG-BIwSRffXtFM",Y=()=>{const o=f(),[i,c]=w.useMessage(),[u,r]=m.useState(null),[R,S]=m.useState(null),[C,N]=m.useState(null),[v,{isLoading:h}]=I(),{control:p,handleSubmit:y,formState:{errors:x}}=_({defaultValues:{accountNumber:"123456789"},resolver:B(K)}),k=t=>{r(t)},A=t=>{if(!u){i.error("Please complete the reCAPTCHA to submit the form.");return}v({accountName:t.accountNumber,accountNumber:t.accountNumber,phone:t.phone,prop_values:{...t},product:"TELLER_SERVICE",service_type:"CHEQUE_DEPOSIT"}).unwrap().then(s=>{S(s.data.service_type),N(s.data.ref_number),E()}).catch(s=>{L(s)})},q=()=>{o("/")},{showModal:E,OtpModalComponent:M}=W({serviceId:R,refNumber:C,handleServiceSubmission:q});return e.jsxs(e.Fragment,{children:[c,e.jsx(j,{width:"sm",children:e.jsx(d,{children:e.jsx(n,{xs:24,children:e.jsx(F,{title:"Bank Gurantee Verification",children:e.jsxs("form",{onSubmit:y(A),children:[e.jsxs(d,{gutter:30,children:[e.jsx(n,{xs:24,md:8,children:e.jsx(b,{label:"Reference Number",name:"referenceNumber",control:p,error:x.referenceNumber?.message??"",placeholder:"Enter your reference number",size:"large",required:!0})}),e.jsx(n,{xs:24,md:8,children:e.jsx(b,{label:"Gurantee Amount",name:"guranteeAmount",type:"number",control:p,error:x.guranteeAmount?.message??"",placeholder:"Enter gurantee amount",size:"large",required:!0})}),e.jsx(n,{xs:24,children:e.jsx($,{sitekey:Q,onChange:k})})]}),e.jsx(n,{xs:24,style:{marginTop:"1rem"},children:e.jsx(G,{type:"primary",htmlType:"submit",size:"large",loading:h,disabled:h,children:"Submit"})})]})})})})}),M]})},ee=()=>{const o=f(),i=P(),c=r=>{o(r)},u=a.find(r=>i.pathname.endsWith(r.link))?.link||a[0].link;return e.jsx(j,{children:e.jsx(d,{children:e.jsx(n,{xs:24,md:24,children:e.jsx(H,{activeKey:u,tabPosition:"left",onChange:c,items:a.map(r=>({label:e.jsxs("span",{children:[e.jsx(O,{icon:r.icon,style:{marginRight:8}}),r.title]}),key:r.link,children:e.jsxs(z,{children:[e.jsx(g,{path:"bank-guarantee",element:e.jsx(Y,{})}),e.jsx(g,{path:"*",element:e.jsx(D,{to:a[0].link,replace:!0})})]})}))})})})})};export{ee as DocumentVerificationRoutes};
//# sourceMappingURL=index-DDvXP7Uy.js.map
