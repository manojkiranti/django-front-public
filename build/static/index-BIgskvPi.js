import{g as T,h as t,c as D,a2 as _,r as i,a6 as I,m as k,j as e,R as j,p as s,n as w,q as u,O as N,a7 as z,B,o as H,f as P,k as O,C as V,a4 as W,_ as G,Y as K,Z as M,a0 as Q,a5 as Y}from"./index-95U9FDsZ.js";import{t as g}from"./index-DTZGWShN.js";import{R as F}from"./recaptcha-wrapper-p46HvbAL.js";import{u as L}from"./useOtpModal-C2ttznJp.js";import"./index-_ukXZapM.js";const Z=T().shape({accountNumber:t(),depositAccountNumber:t().required("Deposit account number is required."),depositAccountName:t().required("Deposit account holder name is required."),currency:t().required("Currency is required."),branch:t().required("Branch is required."),phone:t().required("Mobile number is required.")}),$=T().shape({accountNumber:t(),depositAccountNumber:t().required("Deposit account number is required."),depositAccountName:t().required("Deposit account holder name is required."),currency:t().required("Currency is required."),branch:t().required("Branch is required."),phone:t().required("Mobile number is required.")}),X="6LeWQqgZAAAAAMukTuTY7rFn2HDG-BIwSRffXtFM",U=()=>{const l=D(),[d,m]=_.useMessage(),[h,p]=i.useState(null),[b,n]=i.useState(null),[q,A]=i.useState(null),[S,{isLoading:x}]=I(),{control:o,handleSubmit:C,formState:{errors:a}}=k({defaultValues:{},resolver:H(Z)}),y=r=>{p(r)},f=r=>{if(!h){d.error("Please complete the reCAPTCHA to submit the form.");return}r.accountNumber=r.depositAccountNumber,S({accountName:r.depositAccountName,accountNumber:r.accountNumber,phone:r.phone,prop_values:{...r},product:"TELLER_SERVICE",service_type:"CASH_DEPOSIT"}).unwrap().then(c=>{n(c.data.service_type),A(c.data.ref_number),R()}).catch(c=>{P(c)})},v=()=>{l("/")},{showModal:R,OtpModalComponent:E}=L({serviceId:b,refNumber:q,handleServiceSubmission:v});return e.jsxs(e.Fragment,{children:[m,e.jsx(j,{children:e.jsx(s,{xs:24,children:e.jsx(w,{title:"Cash Deposit",children:e.jsxs("form",{onSubmit:C(f),children:[e.jsxs(j,{gutter:30,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(u,{label:"Deposit Account Number",name:"depositAccountNumber",control:o,error:a.depositAccountNumber?.message??"",placeholder:"Enter deposit account number",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(u,{label:"Deposit Account Holder's Name",name:"depositAccountName",control:o,error:a.depositAccountName?.message??"",placeholder:"Enter deposit account holder's name",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(u,{label:"Mobile Number",name:"phone",control:o,error:a.phone?.message??"",placeholder:"Enter you registered mobile number",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(N,{options:[{label:"NPR",value:"npr"}],label:"Currency",name:"currency",control:o,error:a.currency?.message??"",placeholder:"Please select currency",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(N,{options:z,label:"Branch",name:"branch",control:o,error:a.branch?.message??"",placeholder:"Branch",size:"large",required:!0,showSearch:!0,fieldNames:{label:"branchName",value:"id"}})}),e.jsx(s,{xs:24,children:e.jsx(F,{sitekey:X,onChange:y})})]}),e.jsx(s,{xs:24,style:{marginTop:"1rem"},children:e.jsx(B,{type:"primary",htmlType:"submit",size:"large",loading:x,disabled:x,children:"Submit"})})]})})})}),E]})},J="6LeWQqgZAAAAAMukTuTY7rFn2HDG-BIwSRffXtFM",ee=()=>{const l=D(),[d,m]=_.useMessage(),[h,p]=i.useState(null),[b,n]=i.useState(null),[q,A]=i.useState(null),[S,{isLoading:x}]=I(),{control:o,handleSubmit:C,formState:{errors:a}}=k({defaultValues:{},resolver:H($)}),y=r=>{p(r)},f=r=>{if(!h){d.error("Please complete the reCAPTCHA to submit the form.");return}r.accountNumber=r.depositAccountNumber,S({accountName:r.depositAccountName,accountNumber:r.accountNumber,phone:r.phone,prop_values:{...r},product:"TELLER_SERVICE",service_type:"CHEQUE_DEPOSIT"}).unwrap().then(c=>{n(c.data.service_type),A(c.data.ref_number),R()}).catch(c=>{P(c)})},v=()=>{l("/")},{showModal:R,OtpModalComponent:E}=L({serviceId:b,refNumber:q,handleServiceSubmission:v});return e.jsxs(e.Fragment,{children:[m,e.jsx(j,{children:e.jsx(s,{xs:24,children:e.jsx(w,{title:"Cheque Deposit",children:e.jsxs("form",{onSubmit:C(f),children:[e.jsxs(j,{gutter:30,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(u,{label:"Deposit Account Number",name:"depositAccountNumber",control:o,error:a.depositAccountNumber?.message??"",placeholder:"Enter deposit account number",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(u,{label:"Deposit Account Holder's Name",name:"depositAccountName",control:o,error:a.depositAccountName?.message??"",placeholder:"Enter deposit account holder's name",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(u,{label:"Mobile Number",name:"phone",control:o,error:a.phone?.message??"",placeholder:"Enter you registered mobile number",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(N,{options:[{label:"NPR",value:"npr"}],label:"Currency",name:"currency",control:o,error:a.currency?.message??"",placeholder:"Please select currency",size:"large",required:!0})}),e.jsx(s,{xs:24,md:8,children:e.jsx(N,{options:z,label:"Branch",name:"branch",control:o,error:a.branch?.message??"",placeholder:"Branch",size:"large",required:!0,showSearch:!0,fieldNames:{label:"branchName",value:"id"}})}),e.jsx(s,{xs:24,children:e.jsx(F,{sitekey:J,onChange:y})})]}),e.jsx(s,{xs:24,style:{marginTop:"1rem"},children:e.jsx(B,{type:"primary",htmlType:"submit",size:"large",loading:x,disabled:x,children:"Submit"})})]})})})}),E]})},{useBreakpoint:re}=Y,ce=()=>{const l=re(),d=D(),m=O(),h=n=>{d(n)},p=g.find(n=>m.pathname.endsWith(n.link))?.link||g[0].link,b=l.md?"left":"top";return e.jsx(V,{children:e.jsx(j,{children:e.jsx(s,{xs:24,md:24,children:e.jsx(W,{activeKey:p,tabPosition:b,onChange:h,items:g.map(n=>({label:e.jsxs("span",{children:[e.jsx(G,{icon:n.icon,style:{marginRight:8}}),n.title]}),key:n.link,children:e.jsxs(K,{children:[e.jsx(M,{path:"cash-deposit",element:e.jsx(U,{})}),e.jsx(M,{path:"cheque-deposit",element:e.jsx(ee,{})}),e.jsx(M,{path:"*",element:e.jsx(Q,{to:g[0].link,replace:!0})})]})}))})})})})};export{ce as TellerRoutes};
//# sourceMappingURL=index-BIgskvPi.js.map
